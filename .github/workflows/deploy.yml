# Simple Deploy Instructions for Digital Ocean Production
name: Manual Deploy Instructions

on:
  push:
    branches: [main]

jobs:
  deploy-instructions:
    name: Manual Deployment Instructions
    runs-on: ubuntu-latest
    timeout-minutes: 5
    if: github.event_name == 'push'
    environment: production
    
    steps:
    - name: Manual Deployment Instructions
      run: |
        echo "ğŸ”„ MANUAL DEPLOYMENT REQUIRED"
        echo "===================================="
        echo ""
        echo "ğŸ¯ Your 413 error fixes are ready! Follow these steps:"
        echo ""
        echo "1ï¸âƒ£  SSH to your server:"
        echo "   ssh root@qquadro.com"
        echo ""
        echo "2ï¸âƒ£  Navigate to app directory:"
        echo "   cd /root/mailsender"
        echo ""
        echo "3ï¸âƒ£  Pull latest changes:"
        echo "   git pull origin main"
        echo ""
        echo "4ï¸âƒ£  Restart with new config:"
        echo "   docker-compose -f docker-compose.production.yml down"
        echo "   docker-compose -f docker-compose.production.yml up -d --build"
        echo ""
        echo "âœ… FIXES INCLUDED IN THIS DEPLOYMENT:"
        echo "   â€¢ nginx/server.conf â†’ 200MB upload limits"
        echo "   â€¢ backend/src/index.js â†’ 100MB Express limits" 
        echo "   â€¢ Extended upload timeouts (600s)"
        echo ""
        echo "ğŸŒ Test CSV uploads at: https://qquadro.com"
        echo ""
        echo "ğŸ‰ This will resolve your 413 'Payload Too Large' errors!"
        
    - name: Deployment Summary
      run: |
        echo "ğŸ“‹ DEPLOYMENT SUMMARY"
        echo "====================="
        echo "âœ… Code is ready for manual deployment"
        echo "âœ… All 413 error fixes are in latest main branch"
        echo "âœ… nginx configuration updated with 200MB limits"
        echo "âœ… Express.js body limits increased to 100MB"
        echo ""
        echo "ğŸ“ New upload limit: 200MB"
        echo "ğŸŒ Production URL: https://qquadro.com"
        echo ""
        echo "âš¡ Ready to deploy manually!"