# Simple Deploy Instructions for Digital Ocean Production
name: Manual Deploy Instructions

on:
  push:
    branches: [main]

jobs:
  deploy-instructions:
    name: Manual Deployment Instructions
    runs-on: ubuntu-latest
    timeout-minutes: 5
    if: github.event_name == 'push'
    environment: production
    
    steps:
    - name: Manual Deployment Instructions
      run: |
        echo "🔄 MANUAL DEPLOYMENT REQUIRED"
        echo "===================================="
        echo ""
        echo "🎯 Your 413 error fixes are ready! Follow these steps:"
        echo ""
        echo "1️⃣  SSH to your server:"
        echo "   ssh root@qquadro.com"
        echo ""
        echo "2️⃣  Navigate to app directory:"
        echo "   cd /root/mailsender"
        echo ""
        echo "3️⃣  Pull latest changes:"
        echo "   git pull origin main"
        echo ""
        echo "4️⃣  Restart with new config:"
        echo "   docker-compose -f docker-compose.production.yml down"
        echo "   docker-compose -f docker-compose.production.yml up -d --build"
        echo ""
        echo "✅ FIXES INCLUDED IN THIS DEPLOYMENT:"
        echo "   • nginx/server.conf → 200MB upload limits"
        echo "   • backend/src/index.js → 100MB Express limits" 
        echo "   • Extended upload timeouts (600s)"
        echo ""
        echo "🌐 Test CSV uploads at: https://qquadro.com"
        echo ""
        echo "🎉 This will resolve your 413 'Payload Too Large' errors!"
        
    - name: Deployment Summary
      run: |
        echo "📋 DEPLOYMENT SUMMARY"
        echo "====================="
        echo "✅ Code is ready for manual deployment"
        echo "✅ All 413 error fixes are in latest main branch"
        echo "✅ nginx configuration updated with 200MB limits"
        echo "✅ Express.js body limits increased to 100MB"
        echo ""
        echo "📏 New upload limit: 200MB"
        echo "🌐 Production URL: https://qquadro.com"
        echo ""
        echo "⚡ Ready to deploy manually!"